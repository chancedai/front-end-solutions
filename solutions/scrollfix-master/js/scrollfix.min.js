!function(a){a.fn.scrollFix=function(b){return this.each(function(){var r,s,t,c={startTop:null,startBottom:null,distanceTop:0,endPos:0},d=a.extend({},c,b),e=a(this),f=e.offset(),g=f.top,i=(f.left,jQuery("<div>")),j=a(document).height(),k=d.distanceTop,l=e.outerHeight(),m=e.css("marginBottom").slice(0,-2),l=parseInt(l)+parseInt(m),o=(e.outerWidth(),e.width()),p=a(d.startTop),q=a(d.startBottom);if(!(e.length<=0)){var u=parseInt(jQuery("body").css("top"),10);isNaN(u)||(k+=u),r=a.isNumeric(d.endPos)?d.endPos:parseInt(j-a(d.endPos).offset().top),s=parseInt(j-r),t=parseInt(s-l),a(window).scroll(function(){var b=a(window).scrollTop();if(p[0]){var c=p.offset(),f=c.top;g=f}if(q[0]){var h=q.offset(),m=h.top,n=q.outerHeight();g=parseInt(m+n)}toTop=parseInt(g-k),toTop=toTop>0?toTop:0;var r=j-g-l;b>toTop&&t>b?(e.fadeIn().css({position:"fixed",_position:"absolute",top:d.distanceTop,_top:d.distanceTop,width:o}),i.css({height:l,_height:"0"}).insertBefore(e)):b>=t&&t>=r?(e.css({position:"absolute",top:t,width:o}),i.css({height:l,_height:"0"}).insertBefore(e)):(e.css({position:"static",top:""}),i.remove())}).scroll()}})}}(jQuery);