<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
	.result-wrap table{border-collapse: collapse;border:1px solid #95B8E7;line-height: 35px;text-align: left;margin:0 auto;width:100%;}
    .result-wrap th{background-color: #F5F5F5;background-color: #efefef; background: -webkit-linear-gradient(top,#F9F9F9 0,#efefef 100%); background: -moz-linear-gradient(top,#F9F9F9 0,#efefef 100%); background: -o-linear-gradient(top,#F9F9F9 0,#efefef 100%); background: linear-gradient(to bottom,#F9F9F9 0,#efefef 100%); background-repeat: repeat-x; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#F9F9F9,endColorstr=#efefef,GradientType=0);font-weight: normal;white-space:nowrap}
    .result-wrap th,.result-wrap td{border:1px dotted #ccc;padding: 0 5px;}
    .result-wrap tr:hover{background: #efefef;}
    .result-wrap thead th{cursor:pointer;}
    .result-wrap .hightlight,.result-wrap .hightlight th{font-weight:bold;}
	</style>
</head>
<body>
	<pre>
杜红:
	魏江雷：新浪高级副总裁，主管移动事业部、商业类频道、市场与战略合作部、运营管理部。
		赵添
			雷明
		王屹
		乔宇
		梁莹
	周晓鹏：将主管新闻中心、博客、监控等部门，新浪网编辑委员会总负责人。
		孟波
		蒋箫
	宋永柱：负责新浪产品技术平台的工作，将网络应用开发及产品设计、视频支持与产品技术部门合并，同时兼管客服团队，兼任新浪体育事业部产品技术负责人。
		杨明花
		曾顺
		盖勇
	周全：新浪商业中心总经理，将商业运营与销售团队合并，兼任汽车事业部的工作。
		候辉
		夏祖尚
		吴俊德
		刘晓科
		张京宇
	邓庆旭:新浪财经/科技事业部总经理,将财经、科技以及相关产品技术部门合并，成立财经/科技事业部。
		曾祥雪
		王图勇
	阮伟:新浪体育事业部总经理
		陆洋
		吕莳
		黄鹏
		刘理德
		詹笙
		罗玲

	</pre>
	<div id="demo_20140723114710" class="result-wrap">

	</div>
	<script type="text/javascript" src="http://news.sina.com.cn/js/87/20131126/raphael.js"></script>
	<script type="text/javascript">
	(function() {
		var ps = [{i: '0', n: '陈彤', p: '总编室', l: '0'}, {i: '5388', n: '朱学华', p: '频道运营-网络应用开发', l: '11075'}, {i: '6147', n: '闫博', p: '频道运营-网络应用开发', l: '11075'}, {i: '7561', n: '赵一川', p: '频道运营-网络应用开发', l: '11075'}, {i: '8662', n: '戴倡', p: '频道运营-网络应用开发', l: '11075'}, {i: '10219', n: '熊波', p: '频道运营-网络应用开发', l: '11075'}, {i: '10361', n: '范琛', p: '频道运营-网络应用开发', l: '11075'}, {i: '10421', n: '徐禹', p: '频道运营-网络应用开发', l: '11075'}, {i: '10420', n: '赵轩昂', p: '频道运营-网络应用开发', l: '11075'}, {i: '11337', n: '钟远', p: '频道运营-网络应用开发', l: '11075'}, {i: '11395', n: '刘奇峰', p: '频道运营-网络应用开发', l: '11075'}, {i: '12559', n: '陈岩', p: '频道运营-网络应用开发', l: '11075'}, {i: '13126', n: '牛建银', p: '频道运营-网络应用开发', l: '11075'}, {i: '13504', n: '李博文', p: '频道运营-网络应用开发', l: '11075'}, {i: '13559', n: '商媛媛', p: '频道运营-网络应用开发', l: '11075'}, {i: '13608', n: '杨环宇', p: '频道运营-网络应用开发', l: '11075'}, {i: '13609', n: '袁延程', p: '频道运营-网络应用开发', l: '11075'}, {i: '12733', n: '赵闻达', p: '频道运营-网络应用开发', l: '2104'}, {i: '12829', n: '刘创', p: '频道运营-网络应用开发', l: '2104'}, {i: '13127', n: '郝辉刚', p: '频道运营-网络应用开发', l: '2104'}, {i: '4586', n: '黄旭', p: '频道运营-网络应用开发', l: '5182'}, {i: '7336', n: '冯建华', p: '频道运营-网络应用开发', l: '5182'}, {i: '8754', n: '杨文', p: '频道运营-网络应用开发', l: '5182'}, {i: '8921', n: '王瑄', p: '频道运营-网络应用开发', l: '5182'}, {i: '9666', n: '赵春辉', p: '频道运营-网络应用开发', l: '5182'}, {i: '10179', n: '任杰', p: '频道运营-网络应用开发', l: '5182'}, {i: '11631', n: '张先有', p: '频道运营-网络应用开发', l: '5182'}, {i: '11632', n: '常中中', p: '频道运营-网络应用开发', l: '5182'}, {i: '12560', n: '瞿兵', p: '频道运营-网络应用开发', l: '5182'}, {i: '12561', n: '褚月婷', p: '频道运营-网络应用开发', l: '5182'}, {i: '12562', n: '余华', p: '频道运营-网络应用开发', l: '5182'}, {i: '12771', n: '鲍克蒙', p: '频道运营-网络应用开发', l: '5182'}, {i: '13343', n: '张珑译', p: '频道运营-网络应用开发', l: '5182'}, {i: '13558', n: '郑少阳', p: '频道运营-网络应用开发', l: '5182'}, {i: '384', n: '王双嫣', p: '频道运营-网络应用开发', l: '1828'}, {i: '4108', n: '赵翔宇', p: '频道运营-网络应用开发', l: '1828'}, {i: '4111', n: '李东浩', p: '频道运营-网络应用开发', l: '1828'}, {i: '5840', n: '何启健', p: '频道运营-网络应用开发', l: '1828'}, {i: '8922', n: '邓兴本', p: '频道运营-网络应用开发', l: '1828'}, {i: '9042', n: '喻思兰', p: '频道运营-网络应用开发', l: '1828'}, {i: '10349', n: '赵志龙', p: '频道运营-网络应用开发', l: '1828'}, {i: '10640', n: '冀萌', p: '频道运营-网络应用开发', l: '1828'}, {i: '11747', n: '张祝彦', p: '频道运营-网络应用开发', l: '1828'}, {i: '5421', n: '刘颖', p: '频道运营-产品设计', l: '3061'}, {i: '6046', n: '汪漩', p: '频道运营-产品设计', l: '3061'}, {i: '6225', n: '郭丹', p: '频道运营-产品设计', l: '3061'}, {i: '6596', n: '王瑞', p: '频道运营-产品设计', l: '3061'}, {i: '7972', n: '赵婧曦', p: '频道运营-产品设计', l: '3061'}, {i: '9643', n: '王岩', p: '频道运营-产品设计', l: '3061'}, {i: '10001', n: '慕晓光', p: '频道运营-产品设计', l: '3061'}, {i: '10180', n: '殷凌洁', p: '频道运营-产品设计', l: '3061'}, {i: '10850', n: '陈征', p: '频道运营-产品设计', l: '3061'}, {i: '10968', n: '刘嘉芳', p: '频道运营-产品设计', l: '3061'}, {i: '11060', n: '汤翊', p: '频道运营-产品设计', l: '3061'}, {i: '11592', n: '姜雷', p: '频道运营-产品设计', l: '3061'}, {i: '12132', n: '徐欣慰', p: '频道运营-产品设计', l: '3061'}, {i: '12385', n: '李政浩', p: '频道运营-产品设计', l: '3061'}, {i: '12918', n: '朱顺强', p: '频道运营-产品设计', l: '3061'}, {i: '13199', n: '矫立旻', p: '频道运营-产品设计', l: '3061'}, {i: '13369', n: '年亮亮', p: '频道运营-产品设计', l: '3061'}, {i: '13528', n: '陈军', p: '频道运营-产品设计', l: '3061'}, {i: '6120', n: '丁春林', p: '频道运营-网络应用开发', l: '7348'}, {i: '8165', n: '王磊', p: '频道运营-网络应用开发', l: '7348'}, {i: '9634', n: '徐焱', p: '频道运营-网络应用开发', l: '7348'}, {i: '9645', n: '汤佳胜', p: '频道运营-网络应用开发', l: '7348'}, {i: '9788', n: '吕书志', p: '频道运营-网络应用开发', l: '7348'}, {i: '10599', n: '王际强', p: '频道运营-网络应用开发', l: '7348'}, {i: '11936', n: '郝亮亮', p: '频道运营-网络应用开发', l: '7348'}, {i: '12028', n: '张文翰', p: '频道运营-网络应用开发', l: '7348'}, {i: '12067', n: '邵琦', p: '频道运营-网络应用开发', l: '7348'}, {i: '12752', n: '曹智源', p: '频道运营-网络应用开发', l: '7348'}, {i: '13021', n: '张杰', p: '频道运营-网络应用开发', l: '7348'}, {i: '13074', n: '周胡亮', p: '频道运营-网络应用开发', l: '7348'}, {i: '13148', n: '王梦雷', p: '频道运营-网络应用开发', l: '7348'}, {i: '13200', n: '孙海晓', p: '频道运营-网络应用开发', l: '7348'}, {i: '12945', n: '牛文强', p: '频道运营-网络应用开发', l: '7348'}, {i: '10586', n: '蔡明玉', p: '频道运营-网络应用开发', l: '7348'}, {i: '11865', n: '高振安', p: '频道运营-网络应用开发', l: '7348'}, {i: '5236', n: '王逸鹏', p: '频道运营-网络应用开发', l: '7348'}, {i: '411', n: '王图勇', p: '频道运营-网络应用开发', l: '0'}, {i: '786', n: '杨海朝', p: '频道运营-网络应用开发', l: '411'}, {i: '1828', n: '邵磊', p: '频道运营-网络应用开发', l: '411'}, {i: '2104', n: '陈晨', p: '频道运营-网络应用开发', l: '411'}, {i: '3061', n: '谭志慧', p: '频道运营-产品设计', l: '411'}, {i: '3624', n: '杨明花', p: '频道运营-网络应用开发', l: '411'}, {i: '4797', n: '魏星', p: '频道运营-网络应用开发', l: '411'}, {i: '5182', n: '任钟', p: '频道运营-网络应用开发', l: '411'}, {i: '6121', n: '韩勇', p: '频道运营-网络应用开发', l: '411'}, {i: '7348', n: '唐敏之', p: '频道运营-网络应用开发', l: '411'}, {i: '11075', n: '曾顺', p: '频道运营-网络应用开发', l: '411'}, {i: '3115', n: '赵婧如', p: '频道运营-网络应用开发', l: '4797'}, {i: '7088', n: '杨旭春', p: '频道运营-网络应用开发', l: '4797'}, {i: '8208', n: '居健', p: '频道运营-网络应用开发', l: '4797'}, {i: '8675', n: '常乐', p: '频道运营-网络应用开发', l: '4797'}, {i: '8986', n: '李颖', p: '频道运营-网络应用开发', l: '4797'}, {i: '8992', n: '孟杰', p: '频道运营-网络应用开发', l: '4797'}, {i: '10529', n: '吴晓举', p: '频道运营-网络应用开发', l: '4797'}, {i: '11549', n: '王飞国', p: '频道运营-网络应用开发', l: '4797'}, {i: '11935', n: '刘瑞康', p: '频道运营-网络应用开发', l: '4797'}, {i: '12213', n: '杨阳', p: '频道运营-网络应用开发', l: '4797'}, {i: '12243', n: '刘涛', p: '频道运营-网络应用开发', l: '4797'}, {i: '12536', n: '张彤川', p: '频道运营-网络应用开发', l: '4797'}, {i: '13301', n: '杨帆', p: '频道运营-网络应用开发', l: '4797'}, {i: '13503', n: '刘桂龙', p: '频道运营-网络应用开发', l: '4797'}, {i: '4952', n: '王嵩', p: '频道运营-网络应用开发', l: '786'}, {i: '5100', n: '张贺', p: '频道运营-网络应用开发', l: '786'}, {i: '5712', n: '宋雪峰', p: '频道运营-网络应用开发', l: '786'}, {i: '5711', n: '邹晓可', p: '频道运营-网络应用开发', l: '786'}, {i: '6490', n: '王文蕾', p: '频道运营-网络应用开发', l: '786'}, {i: '6859', n: '刘建忠', p: '频道运营-网络应用开发', l: '786'}, {i: '7342', n: '刘鑫', p: '频道运营-网络应用开发', l: '786'}, {i: '9733', n: '王冉', p: '频道运营-网络应用开发', l: '786'}, {i: '10150', n: '陈小洁', p: '频道运营-网络应用开发', l: '786'}, {i: '10636', n: '林婧', p: '频道运营-网络应用开发', l: '786'}, {i: '11686', n: '云超', p: '频道运营-网络应用开发', l: '786'}, {i: '12330', n: '朱瑞贤', p: '频道运营-网络应用开发', l: '786'}, {i: '12376', n: '何萌', p: '频道运营-网络应用开发', l: '786'}, {i: '12633', n: '孟欣', p: '频道运营-网络应用开发', l: '786'}, {i: '12976', n: '马晨', p: '频道运营-网络应用开发', l: '3624'}, {i: '517', n: '耿宏春', p: '频道运营-网络应用开发', l: '3624'}, {i: '5011', n: '李宁', p: '频道运营-网络应用开发', l: '3624'}, {i: '2467', n: '王久明', p: '频道运营-网络应用开发', l: '3624'}, {i: '9657', n: '孙晗', p: '频道运营-网络应用开发', l: '3624'}, {i: '9867', n: '黄丽萍', p: '频道运营-网络应用开发', l: '3624'}, {i: '9882', n: '刘挺', p: '频道运营-网络应用开发', l: '3624'}, {i: '10873', n: '胡武锡', p: '频道运营-网络应用开发', l: '3624'}, {i: '11412', n: '陈琪', p: '频道运营-网络应用开发', l: '3624'}, {i: '12452', n: '肖峰', p: '频道运营-网络应用开发', l: '3624'}, {i: '12630', n: '白珺辉', p: '频道运营-网络应用开发', l: '3624'}, {i: '12719', n: '李胜利', p: '频道运营-网络应用开发', l: '3624'}, {i: '13125', n: '孙巍', p: '频道运营-网络应用开发', l: '3624'}, {i: '13270', n: '蒲锋', p: '频道运营-网络应用开发', l: '3624'}, {i: '13428', n: '赵汉青', p: '频道运营-网络应用开发', l: '3624'}];
		var getLeaders = function() {
			var leaders = {};
			for (var i = 0, len = ps.length; i < len; i++) {
				var item = ps[i];
				if (item.l) {
					if (!leaders[item.l]) {
						leaders[item.l] = [];
					}
					leaders[item.l].push(item.i);
				}
			}
			return leaders;
		};
		var sotrBy = (function() {
			var flag = false;
			return function(type) {
				type = type || 'i';
				ps = ps.sort(function(a, b) {
					var result;
					if (type === 'i') {
						if (flag) {
							result = b[type] - a[type]
						} else {
							result = a[type] - b[type]
						}
					} else {
						if (flag) {
							result = a[type].localeCompare(b[type]);
						} else {
							result = b[type].localeCompare(a[type]);
						}
					}
					return result;

				});
				flag = !flag;
			}
		})();

		var getPsObj = function() {
			var obj = {};
			for (var i = 0, len = ps.length; i < len; i++) {
				var item = ps[i];
				if (item.i) {
					obj[item.i] = item;
				}
			}
			return obj;
		};
		var leaders = getLeaders();
		var psObj = getPsObj();

		var getAllpsHtml = function() {
			var html = [];
			for (var i = 0, len = ps.length; i < len; i++) {
				var item = ps[i];
				var clz = '';
				if (leaders[item.i]) {
					clz = ' class="hightlight"';
				}
				html.push('<tr' + clz + ' pid="' + item.i + '"><th>' + item.i + '</th><td>' + item.n + '</td><td>' + item.p + '</td><td>' + psObj[item.l].n + '</td></tr>');
			}
			return html.join('');
		};
		var getLeaderHtml = function() {
			var html = [];
			for (var leaderId in leaders) {
				var leader = psObj[leaderId];
				html.push('<thead><tr class="hightlight"><th>' + leaderId + '</th><th>' + leader.n + '</th></tr></thead><tbody>');
				var items = leaders[leaderId];
				for (var i = 0; i < items.length; i++) {
					var itemId = items[i];
					var item = psObj[itemId];
					html.push('<tr pid="' + item.i + '"><th>' + item.i + '</th><td>' + item.n + '</td></tr>');
				};
				html.push('</body>');
			}
			return '<table>' + html.join('') + '</table>';
		};
		var wrap = document.getElementById('demo_20140723114710');
		var render = function() {
			wrap.innerHTML = '<table><thead><th action-type="sort" action-data="i">员工编号</th><th action-type="sort" action-data="n">姓名</th><th action-type="sort" action-data="p">人事大部</th><th action-type="sort" action-data="l">部门负责人</th></thead><tbody>' + getAllpsHtml() + '</tbody></table>';
		};

		sotrBy('i');
		render();

		wrap.onclick = function(e) {
			e = window.event || e;
			e.target = e.target || e.srcElement;
			var eve = e.target.getAttribute('action-type');
			if (eve === 'sort') {
				var type = e.target.getAttribute('action-data')
				sotrBy(type);
				render();
			}

		};

	})();
	</script>
</body>
</html>